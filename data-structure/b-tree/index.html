<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bæ ‘å¯è§†åŒ– - ç®—æ³•åŠ¨ç”»æ¼”ç¤º | ç®—æ³•å¯è§†åŒ–</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="é€šè¿‡äº¤äº’å¼åŠ¨ç”»å­¦ä¹ Bæ ‘ã€‚Bæ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„å¤šè·¯æœç´¢æ ‘ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿçš„ç´¢å¼•ç»“æ„ã€‚">
    <meta name="keywords" content="Bæ ‘,B-Tree,ç®—æ³•å¯è§†åŒ–,æ•°æ®ç»“æ„,å¤šè·¯æœç´¢æ ‘,æ•°æ®åº“ç´¢å¼•">
    <meta name="author" content="Algorithm Visualization">
    <link rel="canonical" href="https://algo.jsdiff.com/data-structure/b-tree/">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Bæ ‘å¯è§†åŒ– - ç®—æ³•åŠ¨ç”»æ¼”ç¤º">
    <meta property="og:description" content="é€šè¿‡äº¤äº’å¼åŠ¨ç”»å­¦ä¹ Bæ ‘çš„æ’å…¥ã€æŸ¥æ‰¾å’Œåˆ é™¤æ“ä½œ">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://algo.jsdiff.com/data-structure/b-tree/">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bæ ‘å¯è§†åŒ–">
    <meta name="twitter:description" content="äº¤äº’å¼åŠ¨ç”»æ¼”ç¤ºBæ ‘æ“ä½œ">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <link rel="stylesheet" href="/common/styles.css">
    <link rel="stylesheet" href="/common/algo-components.css">
    <link rel="stylesheet" href="style.css">

    <!-- Hreflang Tags for SEO -->
    <link rel="alternate" hreflang="zh-CN" href="https://algo.jsdiff.com/data-structure/b-tree/" />
    <link rel="alternate" hreflang="en" href="https://algo.jsdiff.com/en/data-structure/b-tree/" />
    <link rel="alternate" hreflang="x-default" href="https://algo.jsdiff.com/data-structure/b-tree/" />

    <!-- Baidu Analytics -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?4bdc02239b6fe6f4e90583308d9ed3cd";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body class="bg-decoration algo-page">
    <!-- å…¬å…±é¡µå¤´ç”± JS æ³¨å…¥ -->
    <script type="module" src="/common/header.js"></script>

    <div class="container">
        
        <header class="page-header">
            <h1 class="title" data-en="B-Tree Visualization">Bæ ‘å¯è§†åŒ–</h1>
            <p class="subtitle" data-en="Watch how B-Tree maintains balance during insertions and deletions">è§‚å¯ŸBæ ‘å¦‚ä½•åœ¨æ’å…¥å’Œåˆ é™¤æ—¶ä¿æŒå¹³è¡¡</p>
        </header>
        
        <!-- ç®—æ³•ç®€ä»‹ -->
        <div class="algo-intro fade-in">
            <p data-en="B-Tree is a self-balancing multi-way search tree widely used in databases and file systems. Each node can have multiple keys and children, keeping the tree height low for efficient disk I/O operations.">
                Bæ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„å¤šè·¯æœç´¢æ ‘ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿã€‚æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªé”®å’Œå­èŠ‚ç‚¹ï¼Œä¿æŒæ ‘çš„é«˜åº¦è¾ƒä½ä»¥å®ç°é«˜æ•ˆçš„ç£ç›˜I/Oæ“ä½œã€‚
            </p>
        </div>
        
        <!-- é˜¶æ•°é…ç½® -->
        <div class="config-panel fade-in">
            <label class="config-label" data-en="Order (max children):">é˜¶æ•°ï¼ˆæœ€å¤§å­èŠ‚ç‚¹æ•°ï¼‰ï¼š</label>
            <select id="orderSelect" class="config-select">
                <option value="3" data-en="Order 3 (2-3 Tree)">3é˜¶ (2-3æ ‘)</option>
                <option value="4" selected data-en="Order 4 (2-3-4 Tree)">4é˜¶ (2-3-4æ ‘)</option>
                <option value="5" data-en="Order 5">5é˜¶</option>
            </select>
        </div>
        
        <!-- å¯è§†åŒ–åŒºåŸŸ -->
        <div class="visualization-container" id="visualizationContainer">
            <svg id="treeSvg" class="tree-svg"></svg>
        </div>
        
        <!-- æ§åˆ¶é¢æ¿ -->
        <div class="controls">
            <div class="input-group">
                <input type="number" id="inputValue" placeholder="è¾“å…¥å€¼ (1-999)" data-placeholder-en="Enter value (1-999)" class="input-field" min="1" max="999">
                <button class="btn btn-primary" id="insertBtn" data-en="Insert">æ’å…¥</button>
                <button class="btn btn-info" id="searchBtn" data-en="Search">æŸ¥æ‰¾</button>
                <button class="btn btn-danger" id="deleteBtn" data-en="Delete">åˆ é™¤</button>
            </div>
            <div class="button-group">
                <button class="btn btn-secondary" id="resetBtn" data-en="Reset">é‡ç½®</button>
                <button class="btn btn-warning" id="randomBtn" data-en="Random">éšæœºæ•°æ®</button>
                <button class="btn btn-primary" id="demoBtn" data-en="â–¶ Demo">â–¶ æ¼”ç¤º</button>
            </div>
        </div>
        
        <div class="info">
            <span class="status-badge" id="statusText">è¾“å…¥å€¼å¹¶é€‰æ‹©æ“ä½œ</span>
        </div>
        
        <!-- Tabé¢æ¿ -->
        <div class="tabs-container fade-in">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="how-it-works">ğŸ“– å·¥ä½œåŸç†</button>
                <button class="tab-btn" data-tab="complexity">â±ï¸ å¤æ‚åº¦åˆ†æ</button>
                <button class="tab-btn" data-tab="applications">ğŸ’¡ åº”ç”¨åœºæ™¯</button>
                <button class="tab-btn" data-tab="code">ğŸ“ ä»£ç å®ç°</button>
            </div>
            
            <div id="how-it-works" class="tab-content active">
                <h4 data-en="B-Tree Properties">Bæ ‘ç‰¹æ€§</h4>
                <ul>
                    <li data-en="Each node has at most m children (m is the order)">æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ m ä¸ªå­èŠ‚ç‚¹ï¼ˆm æ˜¯é˜¶æ•°ï¼‰</li>
                    <li data-en="Each internal node has at least âŒˆm/2âŒ‰ children">æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹è‡³å°‘æœ‰ âŒˆm/2âŒ‰ ä¸ªå­èŠ‚ç‚¹</li>
                    <li data-en="All leaves appear on the same level">æ‰€æœ‰å¶å­èŠ‚ç‚¹åœ¨åŒä¸€å±‚</li>
                    <li data-en="A node with k children contains k-1 keys">æœ‰ k ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹åŒ…å« k-1 ä¸ªé”®</li>
                </ul>
                
                <h4 data-en="Insert Operation">æ’å…¥æ“ä½œ</h4>
                <ol>
                    <li data-en="Find the leaf node where the key should be inserted">æ‰¾åˆ°åº”è¯¥æ’å…¥é”®çš„å¶å­èŠ‚ç‚¹</li>
                    <li data-en="Insert the key in sorted order">æŒ‰æ’åºé¡ºåºæ’å…¥é”®</li>
                    <li data-en="If the node overflows (has m keys), split it and promote the middle key">å¦‚æœèŠ‚ç‚¹æº¢å‡ºï¼ˆæœ‰ m ä¸ªé”®ï¼‰ï¼Œåˆ†è£‚å¹¶æå‡ä¸­é—´é”®</li>
                    <li data-en="Repeat splitting upward if necessary">å¦‚æœ‰å¿…è¦ï¼Œå‘ä¸Šé‡å¤åˆ†è£‚</li>
                </ol>
                
                <h4 data-en="Search Operation">æŸ¥æ‰¾æ“ä½œ</h4>
                <ol>
                    <li data-en="Start from the root node">ä»æ ¹èŠ‚ç‚¹å¼€å§‹</li>
                    <li data-en="Compare the target with keys in the current node">å°†ç›®æ ‡ä¸å½“å‰èŠ‚ç‚¹çš„é”®æ¯”è¾ƒ</li>
                    <li data-en="If found, return; otherwise, follow the appropriate child pointer">å¦‚æœæ‰¾åˆ°åˆ™è¿”å›ï¼Œå¦åˆ™æ²¿ç€é€‚å½“çš„å­æŒ‡é’ˆç»§ç»­</li>
                    <li data-en="Repeat until found or reaching a null pointer">é‡å¤ç›´åˆ°æ‰¾åˆ°æˆ–åˆ°è¾¾ç©ºæŒ‡é’ˆ</li>
                </ol>
            </div>
            
            <div id="complexity" class="tab-content">
                <table class="complexity-table">
                    <thead>
                        <tr>
                            <th data-en="Operation">æ“ä½œ</th>
                            <th data-en="Average">å¹³å‡</th>
                            <th data-en="Worst">æœ€å</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-en="Search">æŸ¥æ‰¾</td>
                            <td>O(log n)</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td data-en="Insert">æ’å…¥</td>
                            <td>O(log n)</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td data-en="Delete">åˆ é™¤</td>
                            <td>O(log n)</td>
                            <td>O(log n)</td>
                        </tr>
                    </tbody>
                </table>
                <div class="complexity-note">
                    <p data-en="Space Complexity: O(n)">ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p>
                    <p data-en="Tree height: O(log_m n), where m is the order">æ ‘é«˜ï¼šO(log_m n)ï¼Œå…¶ä¸­ m æ˜¯é˜¶æ•°</p>
                </div>
            </div>
            
            <div id="applications" class="tab-content">
                <div class="use-cases">
                    <div class="use-case">
                        <h5 data-en="Database Indexing">æ•°æ®åº“ç´¢å¼•</h5>
                        <p data-en="MySQL InnoDB uses B+ Tree for primary and secondary indexes">MySQL InnoDB ä½¿ç”¨ B+ æ ‘ä½œä¸ºä¸»ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•</p>
                    </div>
                    <div class="use-case">
                        <h5 data-en="File Systems">æ–‡ä»¶ç³»ç»Ÿ</h5>
                        <p data-en="NTFS, HFS+, ext4 use B-Tree variants for directory indexing">NTFSã€HFS+ã€ext4 ä½¿ç”¨ B æ ‘å˜ä½“è¿›è¡Œç›®å½•ç´¢å¼•</p>
                    </div>
                    <div class="use-case">
                        <h5 data-en="Key-Value Stores">é”®å€¼å­˜å‚¨</h5>
                        <p data-en="LevelDB, RocksDB use LSM-Tree based on B-Tree principles">LevelDBã€RocksDB ä½¿ç”¨åŸºäº B æ ‘åŸç†çš„ LSM æ ‘</p>
                    </div>
                </div>
            </div>
            
            <div id="code" class="tab-content">
                <h4 data-en="Implementation">ä»£ç å®ç°</h4>
                <div class="code-lang-tabs">
                    <button class="code-lang-btn active" data-lang="python">
                        <span class="lang-icon">ğŸ</span> Python
                    </button>
                    <button class="code-lang-btn" data-lang="java">
                        <span class="lang-icon">â˜•</span> Java
                    </button>
                </div>
                
                <div id="python-code" class="code-block active">
                    <pre><code class="language-python">class BTreeNode:
    def __init__(self, leaf=True):
        self.keys = []
        self.children = []
        self.leaf = leaf

class BTree:
    def __init__(self, order=4):
        self.root = BTreeNode()
        self.order = order  # Maximum children
        self.min_keys = (order + 1) // 2 - 1
    
    def search(self, key, node=None):
        """Search for a key in the B-Tree"""
        if node is None:
            node = self.root
        
        i = 0
        while i < len(node.keys) and key > node.keys[i]:
            i += 1
        
        if i < len(node.keys) and key == node.keys[i]:
            return (node, i)
        elif node.leaf:
            return None
        else:
            return self.search(key, node.children[i])
    
    def insert(self, key):
        """Insert a key into the B-Tree"""
        root = self.root
        if len(root.keys) == self.order - 1:
            # Root is full, need to split
            new_root = BTreeNode(leaf=False)
            new_root.children.append(self.root)
            self._split_child(new_root, 0)
            self.root = new_root
        self._insert_non_full(self.root, key)
    
    def _split_child(self, parent, index):
        """Split a full child node"""
        order = self.order
        child = parent.children[index]
        mid = (order - 1) // 2
        
        # Create new node with right half
        new_node = BTreeNode(leaf=child.leaf)
        new_node.keys = child.keys[mid + 1:]
        if not child.leaf:
            new_node.children = child.children[mid + 1:]
        
        # Promote middle key
        parent.keys.insert(index, child.keys[mid])
        parent.children.insert(index + 1, new_node)
        
        # Truncate original child
        child.keys = child.keys[:mid]
        if not child.leaf:
            child.children = child.children[:mid + 1]

# Usage
btree = BTree(order=4)
for val in [10, 20, 5, 15, 25, 30]:
    btree.insert(val)
print(btree.search(15))  # Found
</code></pre>
                </div>
                
                <div id="java-code" class="code-block">
                    <pre><code class="language-java">import java.util.ArrayList;
import java.util.List;

public class BTree {
    private BTreeNode root;
    private int order;
    
    public BTree(int order) {
        this.order = order;
        this.root = new BTreeNode(true);
    }
    
    public boolean search(int key) {
        return searchNode(root, key) != null;
    }
    
    private BTreeNode searchNode(BTreeNode node, int key) {
        int i = 0;
        while (i < node.keys.size() && key > node.keys.get(i)) {
            i++;
        }
        if (i < node.keys.size() && key == node.keys.get(i)) {
            return node;
        }
        if (node.leaf) {
            return null;
        }
        return searchNode(node.children.get(i), key);
    }
    
    public void insert(int key) {
        BTreeNode r = root;
        if (r.keys.size() == order - 1) {
            BTreeNode newRoot = new BTreeNode(false);
            newRoot.children.add(root);
            splitChild(newRoot, 0);
            root = newRoot;
        }
        insertNonFull(root, key);
    }
    
    private void splitChild(BTreeNode parent, int index) {
        BTreeNode child = parent.children.get(index);
        int mid = (order - 1) / 2;
        
        BTreeNode newNode = new BTreeNode(child.leaf);
        for (int j = mid + 1; j < child.keys.size(); j++) {
            newNode.keys.add(child.keys.get(j));
        }
        if (!child.leaf) {
            for (int j = mid + 1; j <= child.children.size() - 1; j++) {
                newNode.children.add(child.children.get(j));
            }
        }
        
        parent.keys.add(index, child.keys.get(mid));
        parent.children.add(index + 1, newNode);
        
        // Truncate child
        while (child.keys.size() > mid) {
            child.keys.remove(child.keys.size() - 1);
        }
    }
    
    public static void main(String[] args) {
        BTree tree = new BTree(4);
        int[] values = {10, 20, 5, 15, 25, 30};
        for (int v : values) tree.insert(v);
        System.out.println(tree.search(15)); // true
    }
}

class BTreeNode {
    List&lt;Integer&gt; keys = new ArrayList&lt;&gt;();
    List&lt;BTreeNode&gt; children = new ArrayList&lt;&gt;();
    boolean leaf;
    
    BTreeNode(boolean leaf) {
        this.leaf = leaf;
    }
}
</code></pre>
                </div>
            </div>
        </div>
    </div>
    
    <link rel="stylesheet" href="/common/logger.css">
    <script type="module" src="/common/footer.js"></script>
    <script type="module" src="/common/i18n.js"></script>
    <script type="module" src="/common/utils.js"></script>
    <script type="module" src="/common/tabs.js"></script>
    <script src="/common/logger.js"></script>
    <script src="script.js"></script>
</body>
</html>
