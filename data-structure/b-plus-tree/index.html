<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B+æ ‘å¯è§†åŒ– - ç®—æ³•åŠ¨ç”»æ¼”ç¤º | ç®—æ³•å¯è§†åŒ–</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="é€šè¿‡äº¤äº’å¼åŠ¨ç”»å­¦ä¹ B+æ ‘ã€‚B+æ ‘æ˜¯æ•°æ®åº“ç³»ç»Ÿä¸­æœ€é‡è¦çš„ç´¢å¼•ç»“æ„ï¼Œæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹å¹¶é€šè¿‡é“¾è¡¨è¿æ¥ã€‚">
    <meta name="keywords" content="B+æ ‘,B+ Tree,æ•°æ®åº“ç´¢å¼•,MySQL,ç®—æ³•å¯è§†åŒ–,æ•°æ®ç»“æ„">
    <meta name="author" content="Algorithm Visualization">
    <link rel="canonical" href="https://algo.jsdiff.com/data-structure/b-plus-tree/">
    
    <!-- Open Graph -->
    <meta property="og:title" content="B+æ ‘å¯è§†åŒ– - ç®—æ³•åŠ¨ç”»æ¼”ç¤º">
    <meta property="og:description" content="é€šè¿‡äº¤äº’å¼åŠ¨ç”»å­¦ä¹ B+æ ‘çš„æ’å…¥ã€èŒƒå›´æŸ¥è¯¢å’Œåˆ é™¤æ“ä½œ">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://algo.jsdiff.com/data-structure/b-plus-tree/">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="B+æ ‘å¯è§†åŒ–">
    <meta name="twitter:description" content="äº¤äº’å¼åŠ¨ç”»æ¼”ç¤ºB+æ ‘æ“ä½œ">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <link rel="stylesheet" href="/common/styles.css">
    <link rel="stylesheet" href="style.css">

    <!-- Hreflang Tags for SEO -->
    <link rel="alternate" hreflang="zh-CN" href="https://algo.jsdiff.com/data-structure/b-plus-tree/" />
    <link rel="alternate" hreflang="en" href="https://algo.jsdiff.com/en/data-structure/b-plus-tree/" />
    <link rel="alternate" hreflang="x-default" href="https://algo.jsdiff.com/data-structure/b-plus-tree/" />

    <!-- Baidu Analytics -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?4bdc02239b6fe6f4e90583308d9ed3cd";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body class="bg-decoration">
    <!-- å…¬å…±é¡µå¤´ç”± JS æ³¨å…¥ -->
    <script type="module" src="/common/header.js"></script>

    <div class="container">
        <a href="../../index.html" class="nav-link">â† è¿”å›é¦–é¡µ</a>
        
        <header class="page-header">
            <h1 class="title" data-en="B+ Tree Visualization">B+æ ‘å¯è§†åŒ–</h1>
            <p class="subtitle" data-en="Watch how B+ Tree stores data in leaves with linked list">è§‚å¯ŸB+æ ‘å¦‚ä½•åœ¨å¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®å¹¶é€šè¿‡é“¾è¡¨è¿æ¥</p>
        </header>
        
        <!-- ç®—æ³•ç®€ä»‹ -->
        <div class="algo-intro fade-in">
            <p data-en="B+ Tree is a variant of B-Tree where all data is stored in leaf nodes, and leaves are linked together. This structure is ideal for range queries and is the foundation of database indexes like MySQL InnoDB.">
                B+æ ‘æ˜¯Bæ ‘çš„å˜ä½“ï¼Œæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸­ï¼Œå¶å­èŠ‚ç‚¹é€šè¿‡é“¾è¡¨è¿æ¥ã€‚è¿™ç§ç»“æ„éå¸¸é€‚åˆèŒƒå›´æŸ¥è¯¢ï¼Œæ˜¯MySQL InnoDBç­‰æ•°æ®åº“ç´¢å¼•çš„åŸºç¡€ã€‚
            </p>
        </div>
        
        <!-- é˜¶æ•°é…ç½® -->
        <div class="config-panel fade-in">
            <label class="config-label" data-en="Order (max children):">é˜¶æ•°ï¼ˆæœ€å¤§å­èŠ‚ç‚¹æ•°ï¼‰ï¼š</label>
            <select id="orderSelect" class="config-select">
                <option value="3" data-en="Order 3">3é˜¶</option>
                <option value="4" selected data-en="Order 4">4é˜¶</option>
                <option value="5" data-en="Order 5">5é˜¶</option>
            </select>
        </div>
        
        <!-- å¯è§†åŒ–åŒºåŸŸ -->
        <div class="visualization-container" id="visualizationContainer">
            <svg id="treeSvg" class="tree-svg"></svg>
            <!-- å¶å­é“¾è¡¨æŒ‡ç¤ºå™¨ -->
            <div class="leaf-chain-indicator" data-en="Leaf nodes are linked â†’">å¶å­èŠ‚ç‚¹é“¾è¡¨ â†’</div>
        </div>
        
        <!-- æ§åˆ¶é¢æ¿ -->
        <div class="controls">
            <div class="input-group">
                <input type="number" id="inputValue" placeholder="è¾“å…¥å€¼ (1-999)" data-placeholder-en="Enter value (1-999)" class="input-field" min="1" max="999">
                <button class="btn btn-primary" id="insertBtn" data-en="Insert">æ’å…¥</button>
                <button class="btn btn-info" id="searchBtn" data-en="Search">æŸ¥æ‰¾</button>
                <button class="btn btn-accent" id="rangeBtn" data-en="Range Query">èŒƒå›´æŸ¥è¯¢</button>
                <button class="btn btn-danger" id="deleteBtn" data-en="Delete">åˆ é™¤</button>
            </div>
            <div class="button-group">
                <button class="btn btn-secondary" id="resetBtn" data-en="Reset">é‡ç½®</button>
                <button class="btn btn-warning" id="randomBtn" data-en="Random">éšæœºæ•°æ®</button>
            </div>
        </div>
        
        <div class="info">
            <span class="status-badge" id="statusText">è¾“å…¥å€¼å¹¶é€‰æ‹©æ“ä½œ</span>
        </div>
        
        <!-- Tabé¢æ¿ -->
        <div class="tabs-container fade-in">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="how-it-works">ğŸ“– å·¥ä½œåŸç†</button>
                <button class="tab-btn" data-tab="complexity">â±ï¸ å¤æ‚åº¦åˆ†æ</button>
                <button class="tab-btn" data-tab="applications">ğŸ’¡ åº”ç”¨åœºæ™¯</button>
                <button class="tab-btn" data-tab="code">ğŸ“ ä»£ç å®ç°</button>
            </div>
            
            <div id="how-it-works" class="tab-content active">
                <h4 data-en="B+ Tree vs B-Tree">B+æ ‘ vs Bæ ‘</h4>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th data-en="Feature">ç‰¹æ€§</th>
                            <th>Bæ ‘</th>
                            <th>B+æ ‘</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-en="Data storage">æ•°æ®å­˜å‚¨</td>
                            <td data-en="All nodes">æ‰€æœ‰èŠ‚ç‚¹</td>
                            <td data-en="Leaf nodes only">ä»…å¶å­èŠ‚ç‚¹</td>
                        </tr>
                        <tr>
                            <td data-en="Leaf linkage">å¶å­é“¾æ¥</td>
                            <td data-en="None">æ— </td>
                            <td data-en="Linked list">é“¾è¡¨è¿æ¥</td>
                        </tr>
                        <tr>
                            <td data-en="Range query">èŒƒå›´æŸ¥è¯¢</td>
                            <td data-en="Complex">å¤æ‚</td>
                            <td data-en="Efficient">é«˜æ•ˆ</td>
                        </tr>
                    </tbody>
                </table>
                
                <h4 data-en="Key Properties">å…³é”®ç‰¹æ€§</h4>
                <ul>
                    <li data-en="Internal nodes only store keys for navigation">å†…éƒ¨èŠ‚ç‚¹åªå­˜å‚¨ç”¨äºå¯¼èˆªçš„é”®</li>
                    <li data-en="All actual data/records are in leaf nodes">æ‰€æœ‰å®é™…æ•°æ®/è®°å½•éƒ½åœ¨å¶å­èŠ‚ç‚¹</li>
                    <li data-en="Leaves are linked for sequential access">å¶å­èŠ‚ç‚¹é“¾æ¥ä»¥æ”¯æŒé¡ºåºè®¿é—®</li>
                    <li data-en="Keys in internal nodes are duplicated in leaves">å†…éƒ¨èŠ‚ç‚¹çš„é”®åœ¨å¶å­ä¸­é‡å¤å‡ºç°</li>
                </ul>
            </div>
            
            <div id="complexity" class="tab-content">
                <table class="complexity-table">
                    <thead>
                        <tr>
                            <th data-en="Operation">æ“ä½œ</th>
                            <th data-en="Time">æ—¶é—´</th>
                            <th data-en="Description">è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-en="Search">æŸ¥æ‰¾</td>
                            <td>O(log n)</td>
                            <td data-en="Must reach leaf node">å¿…é¡»åˆ°è¾¾å¶å­èŠ‚ç‚¹</td>
                        </tr>
                        <tr>
                            <td data-en="Insert">æ’å…¥</td>
                            <td>O(log n)</td>
                            <td data-en="Insert in leaf, may split">åœ¨å¶å­æ’å…¥ï¼Œå¯èƒ½åˆ†è£‚</td>
                        </tr>
                        <tr>
                            <td data-en="Range Query">èŒƒå›´æŸ¥è¯¢</td>
                            <td>O(log n + k)</td>
                            <td data-en="k = number of results">k = ç»“æœæ•°é‡</td>
                        </tr>
                        <tr>
                            <td data-en="Delete">åˆ é™¤</td>
                            <td>O(log n)</td>
                            <td data-en="May trigger merge">å¯èƒ½è§¦å‘åˆå¹¶</td>
                        </tr>
                    </tbody>
                </table>
                <div class="complexity-note">
                    <p data-en="Space Complexity: O(n)">ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p>
                    <p data-en="B+ Tree typically has higher fanout than B-Tree, resulting in lower tree height">B+æ ‘é€šå¸¸æ¯”Bæ ‘æœ‰æ›´é«˜çš„æ‰‡å‡ºåº¦ï¼Œæ ‘é«˜æ›´ä½</p>
                </div>
            </div>
            
            <div id="applications" class="tab-content">
                <div class="use-cases">
                    <div class="use-case highlight">
                        <h5 data-en="MySQL InnoDB Index">MySQL InnoDB ç´¢å¼•</h5>
                        <p data-en="Primary key uses clustered B+ Tree index, secondary indexes point to primary key">ä¸»é”®ä½¿ç”¨èšç°‡B+æ ‘ç´¢å¼•ï¼Œè¾…åŠ©ç´¢å¼•æŒ‡å‘ä¸»é”®</p>
                    </div>
                    <div class="use-case">
                        <h5 data-en="PostgreSQL Index">PostgreSQL ç´¢å¼•</h5>
                        <p data-en="Default index type is B-Tree (actually B+ Tree implementation)">é»˜è®¤ç´¢å¼•ç±»å‹æ˜¯B-Treeï¼ˆå®é™…æ˜¯B+æ ‘å®ç°ï¼‰</p>
                    </div>
                    <div class="use-case">
                        <h5 data-en="File System">æ–‡ä»¶ç³»ç»Ÿ</h5>
                        <p data-en="NTFS, ReiserFS, XFS use B+ Tree for directory structure">NTFSã€ReiserFSã€XFS ä½¿ç”¨B+æ ‘ç®¡ç†ç›®å½•ç»“æ„</p>
                    </div>
                </div>
            </div>
            
            <div id="code" class="tab-content">
                <h4 data-en="Implementation">ä»£ç å®ç°</h4>
                <div class="code-lang-tabs">
                    <button class="code-lang-btn active" data-lang="python">
                        <span class="lang-icon">ğŸ</span> Python
                    </button>
                    <button class="code-lang-btn" data-lang="java">
                        <span class="lang-icon">â˜•</span> Java
                    </button>
                </div>
                
                <div id="python-code" class="code-block active">
                    <pre><code class="language-python">class BPlusTreeNode:
    def __init__(self, leaf=True):
        self.keys = []
        self.children = []  # For internal: child nodes; For leaf: data
        self.leaf = leaf
        self.next = None  # Link to next leaf

class BPlusTree:
    def __init__(self, order=4):
        self.root = BPlusTreeNode()
        self.order = order
    
    def search(self, key):
        """Search must reach leaf node"""
        node = self.root
        while not node.leaf:
            i = 0
            while i < len(node.keys) and key >= node.keys[i]:
                i += 1
            node = node.children[i]
        
        # Search in leaf
        for i, k in enumerate(node.keys):
            if k == key:
                return node.children[i]  # Return data
        return None
    
    def range_query(self, start, end):
        """Efficient range query using leaf links"""
        # Find start leaf
        node = self.root
        while not node.leaf:
            i = 0
            while i < len(node.keys) and start >= node.keys[i]:
                i += 1
            node = node.children[i]
        
        # Traverse leaves
        results = []
        while node:
            for i, key in enumerate(node.keys):
                if start <= key <= end:
                    results.append((key, node.children[i]))
                elif key > end:
                    return results
            node = node.next  # Follow leaf link
        return results

# Usage
tree = BPlusTree(order=4)
# Range query example
results = tree.range_query(10, 50)
</code></pre>
                </div>
                
                <div id="java-code" class="code-block">
                    <pre><code class="language-java">import java.util.*;

public class BPlusTree {
    private BPlusNode root;
    private int order;
    
    public BPlusTree(int order) {
        this.order = order;
        this.root = new BPlusNode(true);
    }
    
    public Object search(int key) {
        BPlusNode node = root;
        while (!node.leaf) {
            int i = 0;
            while (i < node.keys.size() && key >= node.keys.get(i)) {
                i++;
            }
            node = node.children.get(i);
        }
        
        for (int i = 0; i < node.keys.size(); i++) {
            if (node.keys.get(i) == key) {
                return node.data.get(i);
            }
        }
        return null;
    }
    
    public List&lt;Object&gt; rangeQuery(int start, int end) {
        List&lt;Object&gt; results = new ArrayList&lt;&gt;();
        BPlusNode node = findLeaf(start);
        
        while (node != null) {
            for (int i = 0; i < node.keys.size(); i++) {
                int key = node.keys.get(i);
                if (key >= start && key <= end) {
                    results.add(node.data.get(i));
                } else if (key > end) {
                    return results;
                }
            }
            node = node.next;
        }
        return results;
    }
}

class BPlusNode {
    List&lt;Integer&gt; keys = new ArrayList&lt;&gt;();
    List&lt;BPlusNode&gt; children = new ArrayList&lt;&gt;();
    List&lt;Object&gt; data = new ArrayList&lt;&gt;();
    boolean leaf;
    BPlusNode next;  // Leaf link
    
    BPlusNode(boolean leaf) { this.leaf = leaf; }
}
</code></pre>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module" src="/common/footer.js"></script>
    <script type="module" src="/common/i18n.js"></script>
    <script type="module" src="/common/tabs.js"></script>
    <script src="script.js"></script>
</body>
</html>
