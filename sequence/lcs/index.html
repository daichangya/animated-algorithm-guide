<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LCSæœ€é•¿å…¬å…±å­åºåˆ—å¯è§†åŒ– - åŠ¨æ€è§„åˆ’ | ç®—æ³•å¯è§†åŒ–</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="é€šè¿‡äº¤äº’å¼åŠ¨ç”»å­¦ä¹ LCSæœ€é•¿å…¬å…±å­åºåˆ—ç®—æ³•ã€‚è§‚å¯ŸåŠ¨æ€è§„åˆ’è¡¨çš„å¡«å……è¿‡ç¨‹ï¼Œç†è§£å¦‚ä½•æ‰¾å‡ºä¸¤ä¸ªåºåˆ—çš„æœ€é•¿å…¬å…±å­åºåˆ—ã€‚">
    <meta name="keywords" content="LCS,æœ€é•¿å…¬å…±å­åºåˆ—,Longest Common Subsequence,åŠ¨æ€è§„åˆ’,DP,åºåˆ—åŒ¹é…,ç®—æ³•å¯è§†åŒ–">
    <meta name="author" content="Algorithm Visualization">
    <link rel="canonical" href="https://algo.jsdiff.com/sequence/lcs/">
    
    <!-- Open Graph -->
    <meta property="og:title" content="LCSæœ€é•¿å…¬å…±å­åºåˆ—å¯è§†åŒ– - åŠ¨æ€è§„åˆ’">
    <meta property="og:description" content="é€šè¿‡äº¤äº’å¼åŠ¨ç”»å­¦ä¹ LCSç®—æ³•ï¼Œè§‚å¯ŸDPè¡¨å¡«å……è¿‡ç¨‹ã€‚">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://algo.jsdiff.com/sequence/lcs/">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="LCSæœ€é•¿å…¬å…±å­åºåˆ—å¯è§†åŒ–">
    <meta name="twitter:description" content="äº¤äº’å¼åŠ¨ç”»æ¼”ç¤ºåŠ¨æ€è§„åˆ’æ±‚è§£LCS">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <link rel="stylesheet" href="/common/styles.css">
    <link rel="stylesheet" href="/common/algo-components.css">
    <link rel="stylesheet" href="style.css">

    <!-- Hreflang Tags for SEO -->
    <link rel="alternate" hreflang="zh-CN" href="https://algo.jsdiff.com/sequence/lcs/" />
    <link rel="alternate" hreflang="en" href="https://algo.jsdiff.com/en/sequence/lcs/" />
    <link rel="alternate" hreflang="x-default" href="https://algo.jsdiff.com/sequence/lcs/" />

    <!-- Baidu Analytics -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?4bdc02239b6fe6f4e90583308d9ed3cd";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body class="bg-decoration algo-page">
    <!-- å…¬å…±é¡µå¤´ç”± JS æ³¨å…¥ -->
    <script type="module" src="/common/header.js"></script>

    <div class="container">
        
        <header class="page-header">
            <h1 class="title">æœ€é•¿å…¬å…±å­åºåˆ—å¯è§†åŒ–</h1>
            <p class="subtitle">åŠ¨æ€è§„åˆ’ç»å…¸é—®é¢˜ - LCS</p>
        </header>
        
        <!-- ç®—æ³•ç®€ä»‹ -->
        <div class="algo-intro fade-in">
            <p>æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰é—®é¢˜æ˜¯å¯»æ‰¾ä¸¤ä¸ªåºåˆ—å…±æœ‰çš„æœ€é•¿å­åºåˆ—ã€‚å­åºåˆ—ä¸è¦æ±‚è¿ç»­ï¼Œä½†å¿…é¡»ä¿æŒç›¸å¯¹é¡ºåºã€‚LCSæ˜¯è®¸å¤šæ–‡æœ¬æ¯”è¾ƒå’Œç”Ÿç‰©ä¿¡æ¯å­¦åº”ç”¨çš„åŸºç¡€ã€‚</p>
        </div>
        
        <!-- è¾“å…¥åŒºåŸŸ -->
        <div class="input-section">
            <div class="input-row">
                <div class="input-group">
                    <label>åºåˆ— A</label>
                    <input type="text" id="seqAInput" value="ABCBDAB">
                </div>
                <div class="input-group">
                    <label>åºåˆ— B</label>
                    <input type="text" id="seqBInput" value="BDCABA">
                </div>
            </div>
        </div>
        
        <!-- åºåˆ—æ˜¾ç¤º -->
        <div class="sequences-display">
            <div class="sequence-row">
                <span class="seq-label">A:</span>
                <div class="sequence-chars" id="seqAChars"></div>
            </div>
            <div class="sequence-row">
                <span class="seq-label">B:</span>
                <div class="sequence-chars" id="seqBChars"></div>
            </div>
        </div>
        
        <!-- DPçŸ©é˜µ -->
        <div class="dp-matrix-section">
            <div class="section-label">DP çŸ©é˜µ</div>
            <div class="dp-matrix-container" id="dpMatrixContainer">
                <table class="dp-matrix" id="dpMatrix">
                    <!-- ç”±JSç”Ÿæˆ -->
                </table>
            </div>
        </div>
        
        <!-- LCSç»“æœ -->
        <div class="lcs-result-section">
            <div class="section-label">æœ€é•¿å…¬å…±å­åºåˆ—</div>
            <div class="lcs-result">
                <div class="lcs-chars" id="lcsChars"></div>
                <div class="lcs-length">
                    <span>é•¿åº¦</span>: <span id="lcsLength">?</span>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn btn-primary" id="startBtn">å¼€å§‹</button>
            <button class="btn btn-warning" id="pauseBtn" disabled>æš‚åœ</button>
            <button class="btn btn-secondary" id="resetBtn">é‡ç½®</button>
        </div>
        
        <div class="info">
            <span class="status-badge" id="statusText">ç‚¹å‡»"å¼€å§‹"æŸ¥çœ‹åŠ¨ç”»</span>
        </div>
        
        <!-- Tabé¢æ¿ -->
        <div class="tabs-container fade-in">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="principle">ğŸ“– å·¥ä½œåŸç†</button>
                <button class="tab-btn" data-tab="complexity">â±ï¸ å¤æ‚åº¦åˆ†æ</button>
                <button class="tab-btn" data-tab="usage">ğŸ’¡ åº”ç”¨åœºæ™¯</button>
                <button class="tab-btn" data-tab="code">ğŸ“ ä»£ç å®ç°</button>
            </div>
            
            <div class="tab-content active" id="principle">
                <h4>åŠ¨æ€è§„åˆ’æ€è·¯</h4>
                <p>è®¾ dp[i][j] è¡¨ç¤ºåºåˆ—Açš„å‰iä¸ªå­—ç¬¦ä¸åºåˆ—Bçš„å‰jä¸ªå­—ç¬¦çš„LCSé•¿åº¦ã€‚</p>
                <ul>
                    <li>å¦‚æœ A[i-1] == B[j-1]ï¼šdp[i][j] = dp[i-1][j-1] + 1ï¼ˆå½“å‰å­—ç¬¦åŒ¹é…ï¼ŒLCSé•¿åº¦+1ï¼‰</li>
                    <li>å¦‚æœ A[i-1] != B[j-1]ï¼šdp[i][j] = max(dp[i-1][j], dp[i][j-1])ï¼ˆå–å·¦è¾¹æˆ–ä¸Šè¾¹çš„è¾ƒå¤§å€¼ï¼‰</li>
                </ul>
                <p style="margin-top: var(--spacing-sm); color: var(--text-secondary);">
                    æœ€ç»ˆ dp[m][n] å°±æ˜¯LCSçš„é•¿åº¦ã€‚é€šè¿‡å›æº¯DPè¡¨å¯ä»¥è¿˜åŸå‡ºå…·ä½“çš„LCSåºåˆ—ã€‚
                </p>
            </div>
            
            <div class="tab-content" id="complexity">
                <h4>æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦</h4>
                <table class="complexity-table">
                    <tr>
                        <th>æŒ‡æ ‡</th>
                        <th>å¤æ‚åº¦</th>
                        <th>è¯´æ˜</th>
                    </tr>
                    <tr>
                        <td>æ—¶é—´å¤æ‚åº¦</td>
                        <td>O(M Ã— N)</td>
                        <td>éœ€è¦å¡«å……æ•´ä¸ªDPè¡¨</td>
                    </tr>
                    <tr>
                        <td>ç©ºé—´å¤æ‚åº¦</td>
                        <td>O(M Ã— N)</td>
                        <td>éœ€è¦å­˜å‚¨DPè¡¨</td>
                    </tr>
                    <tr>
                        <td>ä¼˜åŒ–ç©ºé—´</td>
                        <td class="highlight">O(min(M,N))</td>
                        <td>åªå­˜å‚¨ä¸¤è¡Œå³å¯ï¼ˆå¦‚æœåªéœ€é•¿åº¦ï¼‰</td>
                    </tr>
                </table>
            </div>
            
            <div class="tab-content" id="usage">
                <h4>åº”ç”¨åœºæ™¯</h4>
                <ul>
                    <li>æ–‡æœ¬æ¯”è¾ƒï¼šdiffå·¥å…·æ¯”è¾ƒæ–‡ä»¶å·®å¼‚</li>
                    <li>ç”Ÿç‰©ä¿¡æ¯å­¦ï¼šDNA/è›‹ç™½è´¨åºåˆ—æ¯”å¯¹</li>
                    <li>ç‰ˆæœ¬æ§åˆ¶ï¼šæ£€æµ‹ä»£ç å˜æ›´</li>
                    <li>æ‹¼å†™æ£€æŸ¥ï¼šè®¡ç®—ç¼–è¾‘è·ç¦»çš„åŸºç¡€</li>
                    <li>æ•°æ®å»é‡ï¼šè¯†åˆ«ç›¸ä¼¼å†…å®¹</li>
                </ul>
                <div class="use-cases">
                    <span class="use-case-tag">æ–‡æœ¬æ¯”è¾ƒ</span>
                    <span class="use-case-tag">DNAæ¯”å¯¹</span>
                    <span class="use-case-tag">ç‰ˆæœ¬æ§åˆ¶</span>
                    <span class="use-case-tag">ç›¸ä¼¼åº¦è®¡ç®—</span>
                </div>
            </div>
            
            <div class="tab-content" id="code">
                <h4>ä»£ç å®ç°</h4>
                <div class="code-lang-tabs">
                    <button class="code-lang-btn active" data-lang="python">
                        <span class="lang-icon">ğŸ</span> Python
                    </button>
                    <button class="code-lang-btn" data-lang="java">
                        <span class="lang-icon">â˜•</span> Java
                    </button>
                </div>
                
                <div class="code-container">
                    <div class="code-block active" id="python-code">
                        <pre class="code"><span class="keyword">def</span> <span class="function">lcs</span>(a, b):
    <span class="string">"""è®¡ç®—æœ€é•¿å…¬å…±å­åºåˆ—"""</span>
    m, n = <span class="function">len</span>(a), <span class="function">len</span>(b)
    
    <span class="comment"># åˆ›å»ºDPè¡¨</span>
    dp = [[<span class="number">0</span>] * (n + <span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="function">range</span>(m + <span class="number">1</span>)]
    
    <span class="comment"># å¡«å……DPè¡¨</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="number">1</span>, m + <span class="number">1</span>):
        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):
            <span class="keyword">if</span> a[i - <span class="number">1</span>] == b[j - <span class="number">1</span>]:
                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>
            <span class="keyword">else</span>:
                dp[i][j] = <span class="function">max</span>(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>])
    
    <span class="comment"># å›æº¯è·å–LCSå­—ç¬¦ä¸²</span>
    lcs_str = []
    i, j = m, n
    <span class="keyword">while</span> i > <span class="number">0</span> <span class="keyword">and</span> j > <span class="number">0</span>:
        <span class="keyword">if</span> a[i - <span class="number">1</span>] == b[j - <span class="number">1</span>]:
            lcs_str.<span class="function">append</span>(a[i - <span class="number">1</span>])
            i -= <span class="number">1</span>
            j -= <span class="number">1</span>
        <span class="keyword">elif</span> dp[i - <span class="number">1</span>][j] > dp[i][j - <span class="number">1</span>]:
            i -= <span class="number">1</span>
        <span class="keyword">else</span>:
            j -= <span class="number">1</span>
    
    <span class="keyword">return</span> <span class="string">''</span>.<span class="function">join</span>(<span class="function">reversed</span>(lcs_str))


<span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span>
a = <span class="string">"ABCBDAB"</span>
b = <span class="string">"BDCABA"</span>
result = <span class="function">lcs</span>(a, b)
<span class="function">print</span>(<span class="string">f"LCS: {result}, é•¿åº¦: {len(result)}"</span>)
<span class="comment"># è¾“å‡º: LCS: BCBA, é•¿åº¦: 4</span></pre>
                    </div>
                    
                    <div class="code-block" id="java-code">
                        <pre class="code"><span class="keyword">public class</span> <span class="type">LCS</span> {
    
    <span class="comment">/**
     * è®¡ç®—æœ€é•¿å…¬å…±å­åºåˆ—
     */</span>
    <span class="keyword">public static</span> <span class="type">String</span> <span class="function">lcs</span>(<span class="type">String</span> a, <span class="type">String</span> b) {
        <span class="type">int</span> m = a.<span class="function">length</span>();
        <span class="type">int</span> n = b.<span class="function">length</span>();
        
        <span class="comment">// åˆ›å»ºDPè¡¨</span>
        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="type">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];
        
        <span class="comment">// å¡«å……DPè¡¨</span>
        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i <= m; i++) {
            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j <= n; j++) {
                <span class="keyword">if</span> (a.<span class="function">charAt</span>(i - <span class="number">1</span>) == b.<span class="function">charAt</span>(j - <span class="number">1</span>)) {
                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;
                } <span class="keyword">else</span> {
                    dp[i][j] = Math.<span class="function">max</span>(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]);
                }
            }
        }
        
        <span class="comment">// å›æº¯è·å–LCSå­—ç¬¦ä¸²</span>
        <span class="type">StringBuilder</span> lcsStr = <span class="keyword">new</span> <span class="type">StringBuilder</span>();
        <span class="type">int</span> i = m, j = n;
        <span class="keyword">while</span> (i > <span class="number">0</span> && j > <span class="number">0</span>) {
            <span class="keyword">if</span> (a.<span class="function">charAt</span>(i - <span class="number">1</span>) == b.<span class="function">charAt</span>(j - <span class="number">1</span>)) {
                lcsStr.<span class="function">insert</span>(<span class="number">0</span>, a.<span class="function">charAt</span>(i - <span class="number">1</span>));
                i--; j--;
            } <span class="keyword">else if</span> (dp[i - <span class="number">1</span>][j] > dp[i][j - <span class="number">1</span>]) {
                i--;
            } <span class="keyword">else</span> {
                j--;
            }
        }
        
        <span class="keyword">return</span> lcsStr.<span class="function">toString</span>();
    }
    
    <span class="keyword">public static void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {
        <span class="type">String</span> a = <span class="string">"ABCBDAB"</span>;
        <span class="type">String</span> b = <span class="string">"BDCABA"</span>;
        <span class="type">String</span> result = <span class="function">lcs</span>(a, b);
        System.out.<span class="function">println</span>(<span class="string">"LCS: "</span> + result + 
            <span class="string">", é•¿åº¦: "</span> + result.<span class="function">length</span>());
        <span class="comment">// è¾“å‡º: LCS: BCBA, é•¿åº¦: 4</span>
    }
}</pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module" src="/common/footer.js"></script>
    <script type="module" src="/common/i18n.js"></script>
    <script src="script.js"></script>
    <script>
        // è¯­è¨€åˆ‡æ¢å™¨äº‹ä»¶
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.getAttribute('data-lang');
                if (window.I18n) {
                    window.I18n.switchLanguage(lang);
                }
            });
        });
        
    </script>
    <script type="module" src="/common/tabs.js"></script>
</body>
</html>
