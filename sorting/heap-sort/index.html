<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å †æ’åºå¯è§†åŒ– - äºŒå‰å †ç®—æ³•åŠ¨ç”» | ç®—æ³•å¯è§†åŒ–</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="é€šè¿‡äº¤äº’å¼åŠ¨ç”»å­¦ä¹ å †æ’åºç®—æ³•ã€‚è§‚å¯ŸäºŒå‰å †çš„æ„å»ºä¸è°ƒæ•´è¿‡ç¨‹ï¼Œç†è§£O(n log n)æ—¶é—´å¤æ‚åº¦çš„é«˜æ•ˆæ’åºåŸç†ã€‚">
    <meta name="keywords" content="å †æ’åº,Heap Sort,äºŒå‰å †,æœ€å¤§å †,æ’åºç®—æ³•,ç®—æ³•å¯è§†åŒ–,å †åŒ–,heapify,æ•°æ®ç»“æ„">
    <meta name="author" content="Algorithm Visualization">
    <link rel="canonical" href="https://algo.jsdiff.com/sorting/heap-sort/">
    
    <!-- Open Graph -->
    <meta property="og:title" content="å †æ’åºå¯è§†åŒ– - äºŒå‰å †ç®—æ³•åŠ¨ç”»">
    <meta property="og:description" content="é€šè¿‡äº¤äº’å¼åŠ¨ç”»å­¦ä¹ å †æ’åºç®—æ³•ï¼Œè§‚å¯Ÿå †çš„æ„å»ºå’Œè°ƒæ•´è¿‡ç¨‹ã€‚">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://algo.jsdiff.com/sorting/heap-sort/">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="å †æ’åºå¯è§†åŒ–">
    <meta name="twitter:description" content="äº¤äº’å¼åŠ¨ç”»æ¼”ç¤ºå †æ’åºç®—æ³•">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <link rel="stylesheet" href="/common/styles.css">
    <link rel="stylesheet" href="/common/algo-components.css">
    <link rel="stylesheet" href="style.css">

    <!-- Hreflang Tags for SEO -->
    <link rel="alternate" hreflang="zh-CN" href="https://algo.jsdiff.com/sorting/heap-sort/" />
    <link rel="alternate" hreflang="en" href="https://algo.jsdiff.com/en/sorting/heap-sort/" />
    <link rel="alternate" hreflang="x-default" href="https://algo.jsdiff.com/sorting/heap-sort/" />

    <!-- Baidu Analytics -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?4bdc02239b6fe6f4e90583308d9ed3cd";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body class="bg-decoration algo-page">
    <!-- å…¬å…±é¡µå¤´ç”± JS æ³¨å…¥ -->
    <script type="module" src="/common/header.js"></script>

    <div class="container">
        
        <header class="page-header">
            <h1 class="title" data-en="Heap Sort Visualization">å †æ’åºå¯è§†åŒ–</h1>
            <p class="subtitle" data-en="Watch the binary heap construction and adjustment process">è§‚å¯ŸäºŒå‰å †çš„æ„å»ºä¸è°ƒæ•´è¿‡ç¨‹</p>
        </header>
        
        <!-- ç®—æ³•ç®€ä»‹ -->
        <div class="algo-intro fade-in">
            <p data-en="Heap Sort is a sorting algorithm that uses the heap data structure. It first builds a max-heap from the array (where parent nodes are always larger than children), then repeatedly extracts the maximum element from the top, places it at the end of the array, and adjusts the remaining elements to reform the heap, until all elements are extracted.">å †æ’åºï¼ˆHeap Sortï¼‰æ˜¯ä¸€ç§åˆ©ç”¨å †æ•°æ®ç»“æ„è®¾è®¡çš„æ’åºç®—æ³•ã€‚å®ƒé¦–å…ˆå°†æ•°ç»„æ„å»ºæˆä¸€ä¸ªæœ€å¤§å †ï¼ˆçˆ¶èŠ‚ç‚¹æ€»æ˜¯å¤§äºå­èŠ‚ç‚¹ï¼‰ï¼Œç„¶åä¸æ–­å–å‡ºå †é¡¶çš„æœ€å¤§å…ƒç´ ï¼Œæ”¾åˆ°æ•°ç»„æœ«å°¾ï¼ŒåŒæ—¶è°ƒæ•´å‰©ä½™å…ƒç´ é‡æ–°å½¢æˆå †ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½è¢«å–å‡ºã€‚</p>
        </div>
        
        <!-- æ ‘å½¢è§†å›¾ -->
        <div class="heap-tree-container" id="heapTreeContainer">
            <svg class="tree-lines" id="treeLines"></svg>
            <div class="tree-nodes" id="treeNodes">
                <!-- æ ‘èŠ‚ç‚¹å°†ç”± JavaScript åŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <!-- æ•°ç»„è§†å›¾ -->
        <div class="array-section">
            <div class="section-label" data-en="Array View">æ•°ç»„è§†å›¾</div>
            <div class="array-container" id="arrayContainer">
                <!-- æ•°ç»„å…ƒç´ å°†ç”± JavaScript åŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="controls">
            <button class="btn btn-primary" id="startBtn" data-en="Start Sorting">å¼€å§‹æ’åº</button>
            <button class="btn btn-warning" id="pauseBtn" data-en="Pause" disabled>æš‚åœ</button>
            <button class="btn btn-secondary" id="resetBtn" data-en="Reset">é‡ç½®</button>
        </div>
        
        <div class="info">
            <span class="status-badge" id="statusText" data-en="Click 'Start Sorting' to view animation">ç‚¹å‡»"å¼€å§‹æ’åº"æŸ¥çœ‹åŠ¨ç”»</span>
        </div>
        
        <!-- Tabé¢æ¿ -->
        <div class="tabs-container fade-in">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="principle" data-en="ğŸ“– How It Works">ğŸ“– å·¥ä½œåŸç†</button>
                <button class="tab-btn" data-tab="complexity" data-en="â±ï¸ Complexity">â±ï¸ å¤æ‚åº¦åˆ†æ</button>
                <button class="tab-btn" data-tab="usage" data-en="ğŸ’¡ Applications">ğŸ’¡ åº”ç”¨åœºæ™¯</button>
                <button class="tab-btn" data-tab="code" data-en="ğŸ“ Implementation">ğŸ“ ä»£ç å®ç°</button>
            </div>
            
            <div class="tab-content active" id="principle">
                <h4 data-en="Algorithm Steps">ç®—æ³•æ­¥éª¤</h4>
                <ol>
                    <li data-en="Build a max-heap from the array (Build Max-Heap)">å°†å¾…æ’åºæ•°ç»„æ„å»ºæˆä¸€ä¸ªæœ€å¤§å †ï¼ˆBuild Max-Heapï¼‰</li>
                    <li data-en="The root element (arr[0]) is now the maximum">æ­¤æ—¶å †é¡¶å…ƒç´ ï¼ˆarr[0]ï¼‰ä¸ºæœ€å¤§å€¼</li>
                    <li data-en="Swap root with the last element">å°†å †é¡¶å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢</li>
                    <li data-en="Reduce heap size by 1, heapify the new root">å †å¤§å°å‡1ï¼Œå¯¹æ–°çš„å †é¡¶æ‰§è¡Œä¸‹æ²‰æ“ä½œï¼ˆHeapifyï¼‰</li>
                    <li data-en="Repeat steps 3-4 until heap size is 1">é‡å¤æ­¥éª¤3-4ï¼Œç›´åˆ°å †å¤§å°ä¸º1</li>
                </ol>
            </div>
            
            <div class="tab-content" id="complexity">
                <h4 data-en="Time and Space Complexity">æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦</h4>
                <table class="complexity-table">
                    <tr>
                        <th data-en="Case">æƒ…å†µ</th>
                        <th data-en="Time Complexity">æ—¶é—´å¤æ‚åº¦</th>
                        <th data-en="Description">è¯´æ˜</th>
                    </tr>
                    <tr>
                        <td data-en="Build Heap">å»ºå †</td>
                        <td class="highlight">O(n)</td>
                        <td data-en="Bottom-up heap construction complexity">è‡ªåº•å‘ä¸Šå»ºå †çš„æ—¶é—´å¤æ‚åº¦</td>
                    </tr>
                    <tr>
                        <td data-en="Sort (All Cases)">æ’åºï¼ˆæ‰€æœ‰æƒ…å†µï¼‰</td>
                        <td>O(n log n)</td>
                        <td data-en="O(log n) adjustment per extraction">æ¯æ¬¡å–å‡ºå †é¡¶éœ€è¦O(log n)è°ƒæ•´</td>
                    </tr>
                    <tr>
                        <td data-en="Space Complexity">ç©ºé—´å¤æ‚åº¦</td>
                        <td class="highlight">O(1)</td>
                        <td data-en="In-place sorting, only constant extra space">åŸåœ°æ’åºï¼Œåªéœ€å¸¸æ•°é¢å¤–ç©ºé—´</td>
                    </tr>
                </table>
                <p style="margin-top: var(--spacing-sm); color: var(--text-secondary);" data-en="Heap Sort is an unstable sort, relative order of equal elements may change.">
                    å †æ’åºæ˜¯<strong>ä¸ç¨³å®šæ’åº</strong>ï¼Œç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹é¡ºåºå¯èƒ½æ”¹å˜ã€‚
                </p>
            </div>
            
            <div class="tab-content" id="usage">
                <h4 data-en="Use Cases">é€‚ç”¨åœºæ™¯</h4>
                <ul>
                    <li data-en="Need in-place sorting with guaranteed O(n log n) worst case">éœ€è¦åŸåœ°æ’åºä¸”ä¿è¯O(n log n)æœ€åæƒ…å†µæ€§èƒ½</li>
                    <li data-en="Implementing priority queue data structures">å®ç°ä¼˜å…ˆé˜Ÿåˆ—æ•°æ®ç»“æ„</li>
                    <li data-en="Finding top K largest/smallest elements">æ‰¾å‡ºæ•°ç»„ä¸­å‰Kå¤§/å°çš„å…ƒç´ </li>
                    <li data-en="System scheduling and task priority management">ç³»ç»Ÿè°ƒåº¦ã€ä»»åŠ¡ä¼˜å…ˆçº§ç®¡ç†</li>
                </ul>
                <div class="use-cases">
                    <span class="use-case-tag" data-en="Priority Queue">ä¼˜å…ˆé˜Ÿåˆ—</span>
                    <span class="use-case-tag" data-en="Top-K Problem">Top-Ké—®é¢˜</span>
                    <span class="use-case-tag" data-en="Task Scheduling">ä»»åŠ¡è°ƒåº¦</span>
                    <span class="use-case-tag" data-en="Memory-Constrained">å†…å­˜å—é™åœºæ™¯</span>
                </div>
            </div>
            
            <div class="tab-content" id="code">
                <h4 data-en="Implementation">ä»£ç å®ç°</h4>
                <div class="code-lang-tabs">
                    <button class="code-lang-btn active" data-lang="python">
                        <span class="lang-icon">ğŸ</span> Python
                    </button>
                    <button class="code-lang-btn" data-lang="java">
                        <span class="lang-icon">â˜•</span> Java
                    </button>
                </div>
                
                <div class="code-container">
                    <div class="code-block active" id="python-code">
                        <pre class="code"><span class="keyword">def</span> <span class="function">heapify</span>(arr, n, i):
    <span class="string">"""ç»´æŠ¤æœ€å¤§å †æ€§è´¨"""</span>
    largest = i
    left = <span class="number">2</span> * i + <span class="number">1</span>
    right = <span class="number">2</span> * i + <span class="number">2</span>
    
    <span class="comment"># å·¦å­èŠ‚ç‚¹æ›´å¤§</span>
    <span class="keyword">if</span> left < n <span class="keyword">and</span> arr[left] > arr[largest]:
        largest = left
    
    <span class="comment"># å³å­èŠ‚ç‚¹æ›´å¤§</span>
    <span class="keyword">if</span> right < n <span class="keyword">and</span> arr[right] > arr[largest]:
        largest = right
    
    <span class="comment"># å¦‚æœæœ€å¤§å€¼ä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œäº¤æ¢å¹¶ç»§ç»­è°ƒæ•´</span>
    <span class="keyword">if</span> largest != i:
        arr[i], arr[largest] = arr[largest], arr[i]
        <span class="function">heapify</span>(arr, n, largest)


<span class="keyword">def</span> <span class="function">heap_sort</span>(arr):
    <span class="string">"""å †æ’åºç®—æ³•"""</span>
    n = <span class="function">len</span>(arr)
    
    <span class="comment"># æ„å»ºæœ€å¤§å †ï¼ˆä»æœ€åä¸€ä¸ªéå¶èŠ‚ç‚¹å¼€å§‹ï¼‰</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n // <span class="number">2</span> - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):
        <span class="function">heapify</span>(arr, n, i)
    
    <span class="comment"># é€ä¸ªå–å‡ºå †é¡¶å…ƒç´ </span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n - <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>):
        arr[<span class="number">0</span>], arr[i] = arr[i], arr[<span class="number">0</span>]  <span class="comment"># äº¤æ¢å †é¡¶å’Œæœ«å°¾</span>
        <span class="function">heapify</span>(arr, i, <span class="number">0</span>)  <span class="comment"># é‡æ–°è°ƒæ•´å †</span>
    
    <span class="keyword">return</span> arr


<span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span>
arr = [<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]
<span class="function">print</span>(<span class="function">heap_sort</span>(arr))
<span class="comment"># è¾“å‡º: [5, 6, 7, 11, 12, 13]</span></pre>
                    </div>
                    
                    <div class="code-block" id="java-code">
                        <pre class="code"><span class="keyword">public class</span> <span class="type">HeapSort</span> {
    
    <span class="comment">/**
     * ç»´æŠ¤æœ€å¤§å †æ€§è´¨
     */</span>
    <span class="keyword">private static void</span> <span class="function">heapify</span>(<span class="type">int</span>[] arr, <span class="type">int</span> n, <span class="type">int</span> i) {
        <span class="type">int</span> largest = i;
        <span class="type">int</span> left = <span class="number">2</span> * i + <span class="number">1</span>;
        <span class="type">int</span> right = <span class="number">2</span> * i + <span class="number">2</span>;
        
        <span class="comment">// å·¦å­èŠ‚ç‚¹æ›´å¤§</span>
        <span class="keyword">if</span> (left < n && arr[left] > arr[largest]) {
            largest = left;
        }
        
        <span class="comment">// å³å­èŠ‚ç‚¹æ›´å¤§</span>
        <span class="keyword">if</span> (right < n && arr[right] > arr[largest]) {
            largest = right;
        }
        
        <span class="comment">// å¦‚æœæœ€å¤§å€¼ä¸æ˜¯æ ¹èŠ‚ç‚¹</span>
        <span class="keyword">if</span> (largest != i) {
            <span class="type">int</span> temp = arr[i];
            arr[i] = arr[largest];
            arr[largest] = temp;
            
            <span class="function">heapify</span>(arr, n, largest);
        }
    }
    
    <span class="comment">/**
     * å †æ’åºç®—æ³•
     */</span>
    <span class="keyword">public static void</span> <span class="function">heapSort</span>(<span class="type">int</span>[] arr) {
        <span class="type">int</span> n = arr.length;
        
        <span class="comment">// æ„å»ºæœ€å¤§å †</span>
        <span class="keyword">for</span> (<span class="type">int</span> i = n / <span class="number">2</span> - <span class="number">1</span>; i >= <span class="number">0</span>; i--) {
            <span class="function">heapify</span>(arr, n, i);
        }
        
        <span class="comment">// é€ä¸ªå–å‡ºå †é¡¶å…ƒç´ </span>
        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i > <span class="number">0</span>; i--) {
            <span class="type">int</span> temp = arr[<span class="number">0</span>];
            arr[<span class="number">0</span>] = arr[i];
            arr[i] = temp;
            
            <span class="function">heapify</span>(arr, i, <span class="number">0</span>);
        }
    }
    
    <span class="keyword">public static void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {
        <span class="type">int</span>[] arr = {<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>};
        <span class="function">heapSort</span>(arr);
        System.out.<span class="function">println</span>(Arrays.<span class="function">toString</span>(arr));
        <span class="comment">// è¾“å‡º: [5, 6, 7, 11, 12, 13]</span>
    }
}</pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <link rel="stylesheet" href="/common/logger.css">
    <script type="module" src="/common/footer.js"></script>
    <script type="module" src="/common/i18n.js"></script>
    <script src="/common/logger.js"></script>
    <script src="script.js"></script>
    <script>
        // è¯­è¨€åˆ‡æ¢å™¨äº‹ä»¶
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.getAttribute('data-lang');
                if (window.I18n) {
                    window.I18n.switchLanguage(lang);
                }
            });
        });
        
    </script>
    <script type="module" src="/common/tabs.js"></script>
</body>
</html>
