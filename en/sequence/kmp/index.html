<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KMP String Matching Visualization - Prefix Table Algorithm | Algorithm Visualization</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Learn KMP string matching through interactive animation. Understand prefix table (Next array) construction, watch how matched information avoids redundant comparisons for O(n+m) efficient matching.">
    <meta name="keywords" content="KMP,String Matching,Knuth-Morris-Pratt,Prefix Table,Next Array,Pattern Matching,Algorithm Visualization">
    <meta name="author" content="Algorithm Visualization">
    <link rel="canonical" href="https://algo.jsdiff.com/en/sequence/kmp/">
    
    <!-- Open Graph -->
    <meta property="og:title" content="KMP String Matching Visualization - Prefix Table Algorithm">
    <meta property="og:description" content="Learn KMP algorithm through interactive animation, understand how the prefix table works.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://algo.jsdiff.com/sequence/kmp/">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="KMP String Matching Visualization">
    <meta name="twitter:description" content="Interactive animation demonstrating KMP string matching">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <link rel="stylesheet" href="/common/styles.css">
    <link rel="stylesheet" href="/sequence/kmp/style.css"><!-- Baidu Analytics -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?4bdc02239b6fe6f4e90583308d9ed3cd";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    <!-- Hreflang Tags for SEO -->
    <link rel="alternate" hreflang="zh-CN" href="https://algo.jsdiff.com/sequence/kmp" />
    <link rel="alternate" hreflang="en" href="https://algo.jsdiff.com/en/sequence/kmp/" />
    <link rel="alternate" hreflang="x-default" href="https://algo.jsdiff.com/sequence/kmp" />
</head>
<body class="bg-decoration">
    <!-- ÂÖ¨ÂÖ±È°µÂ§¥Áî± JS Ê≥®ÂÖ• -->
    <script type="module" src="/common/header.js"></script>

    <div class="container">
        
        <header class="page-header">
            <h1 class="title">KMP String Matching Visualization</h1>
            <p class="subtitle">Skip unnecessary comparisons using the prefix table</p>
        </header>
        
        <!-- ÁÆóÊ≥ïÁÆÄ‰ªã -->
        <div class="algo-intro fade-in">
            <p>KMP (Knuth-Morris-Pratt) is an efficient string matching algorithm. It uses information from previous matches to avoid restarting from scratch, achieving O(n+m) time complexity through the "prefix table" (or next array).</p>
        </div>
        
        <!-- ËæìÂÖ• -->
        <div class="input-section">
            <div class="input-group">
                <label>Text String (T)</label>
                <input type="text" id="textInput" value="ABABDABACDABABCABAB">
            </div>
            <div class="input-group">
                <label>Pattern String (P)</label>
                <input type="text" id="patternInput" value="ABABCABAB">
            </div>
        </div>
        
        <!-- ÂâçÁºÄË°® -->
        <div class="prefix-section">
            <div class="section-label">Prefix Table (Next Array)</div>
            <div class="prefix-table" id="prefixTable"></div>
        </div>
        
        <!-- ÂåπÈÖçËøáÁ®ã -->
        <div class="match-section">
            <div class="section-label">Matching Process</div>
            <div class="match-container">
                <div class="text-row" id="textRow"></div>
                <div class="pattern-row" id="patternRow"></div>
            </div>
        </div>
        
        <!-- ÂåπÈÖçÁªìÊûú -->
        <div class="result-section">
            <div class="section-label">Match Position</div>
            <div class="match-results" id="matchResults">-</div>
        </div>
        
        <div class="controls">
            <button class="btn btn-primary" id="startBtn">Start</button>
            <button class="btn btn-warning" id="pauseBtn" disabled>Pause</button>
            <button class="btn btn-secondary" id="resetBtn">Reset</button>
        </div>
        
        <div class="info">
            <span class="status-badge" id="statusText">Click "Start" to view animation</span>
        </div>
        
        <!-- TabÈù¢Êùø -->
        <div class="tabs-container fade-in">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="principle">üìñ How It Works</button>
                <button class="tab-btn" data-tab="complexity">‚è±Ô∏è Complexity</button>
                <button class="tab-btn" data-tab="usage">üí° Applications</button>
                <button class="tab-btn" data-tab="code">üìù Implementation</button>
            </div>
            
            <div class="tab-content active" id="principle">
                <h4>Core Concepts</h4>
                <ul>
                    <li>Prefix table records "longest proper prefix which is also suffix" for each position</li>
                    <li>On mismatch, use prefix table to skip positions that can't possibly match</li>
                    <li>Pattern doesn't restart from beginning, jumps to position indicated by prefix table</li>
                </ul>
                <p style="margin-top: var(--spacing-sm); color: var(--text-secondary);">
                    Example: "ABAB" has longest proper prefix-suffix "AB", length 2.
                </p>
            </div>
            
            <div class="tab-content" id="complexity">
                <h4>Time & Space Complexity</h4>
                <table class="complexity-table">
                    <tr>
                        <th>Phase</th>
                        <th>Complexity</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>Build Prefix Table</td>
                        <td class="highlight">O(M)</td>
                        <td>M is pattern length</td>
                    </tr>
                    <tr>
                        <td>Matching Process</td>
                        <td class="highlight">O(N)</td>
                        <td>N is text length</td>
                    </tr>
                    <tr>
                        <td>Total Time</td>
                        <td class="highlight">O(N+M)</td>
                        <td>Much better than naive O(N√óM)</td>
                    </tr>
                    <tr>
                        <td>Space Complexity</td>
                        <td>O(M)</td>
                        <td>Store prefix table</td>
                    </tr>
                </table>
            </div>
            
            <div class="tab-content" id="usage">
                <h4>Applications</h4>
                <ul>
                    <li>Text editor find functionality</li>
                    <li>Search engine keyword matching</li>
                    <li>DNA sequence pattern search</li>
                    <li>Network intrusion detection (signature matching)</li>
                    <li>Data compression algorithms</li>
                </ul>
                <div class="use-cases">
                    <span class="use-case-tag">Text Search</span>
                    <span class="use-case-tag">Pattern Matching</span>
                    <span class="use-case-tag">Bioinformatics</span>
                    <span class="use-case-tag">Network Security</span>
                </div>
            </div>
            
            <div class="tab-content" id="code">
                <h4>Implementation</h4>
                <div class="code-lang-tabs">
                    <button class="code-lang-btn active" data-lang="python">
                        <span class="lang-icon">üêç</span> Python
                    </button>
                    <button class="code-lang-btn" data-lang="java">
                        <span class="lang-icon">‚òï</span> Java
                    </button>
                </div>
                
                <div class="code-container">
                    <div class="code-block active" id="python-code">
                        <pre class="code"><span class="keyword">def</span> <span class="function">build_next</span>(pattern):
    <span class="string">"""ÊûÑÂª∫ÂâçÁºÄË°®ÔºàNextÊï∞ÁªÑÔºâ"""</span>
    m = <span class="function">len</span>(pattern)
    next_arr = [<span class="number">0</span>] * m
    j = <span class="number">0</span>
    
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="number">1</span>, m):
        <span class="keyword">while</span> j > <span class="number">0</span> <span class="keyword">and</span> pattern[i] != pattern[j]:
            j = next_arr[j - <span class="number">1</span>]
        <span class="keyword">if</span> pattern[i] == pattern[j]:
            j += <span class="number">1</span>
        next_arr[i] = j
    
    <span class="keyword">return</span> next_arr


<span class="keyword">def</span> <span class="function">kmp_search</span>(text, pattern):
    <span class="string">"""KMPÂ≠óÁ¨¶‰∏≤ÂåπÈÖç"""</span>
    <span class="keyword">if not</span> pattern:
        <span class="keyword">return</span> []
    
    next_arr = <span class="function">build_next</span>(pattern)
    results = []
    j = <span class="number">0</span>
    
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="function">len</span>(text)):
        <span class="keyword">while</span> j > <span class="number">0</span> <span class="keyword">and</span> text[i] != pattern[j]:
            j = next_arr[j - <span class="number">1</span>]
        <span class="keyword">if</span> text[i] == pattern[j]:
            j += <span class="number">1</span>
        <span class="keyword">if</span> j == <span class="function">len</span>(pattern):
            results.<span class="function">append</span>(i - j + <span class="number">1</span>)
            j = next_arr[j - <span class="number">1</span>]
    
    <span class="keyword">return</span> results


<span class="comment"># ‰ΩøÁî®Á§∫‰æã</span>
text = <span class="string">"ABABDABACDABABCABAB"</span>
pattern = <span class="string">"ABABCABAB"</span>
positions = <span class="function">kmp_search</span>(text, pattern)
<span class="function">print</span>(<span class="string">f"ÂåπÈÖç‰ΩçÁΩÆ: {positions}"</span>)
<span class="comment"># ËæìÂá∫: ÂåπÈÖç‰ΩçÁΩÆ: [10]</span></pre>
                    </div>
                    
                    <div class="code-block" id="java-code">
                        <pre class="code"><span class="keyword">import</span> java.util.*;

<span class="keyword">public class</span> <span class="type">KMP</span> {
    
    <span class="comment">/**
     * ÊûÑÂª∫ÂâçÁºÄË°®ÔºàNextÊï∞ÁªÑÔºâ
     */</span>
    <span class="keyword">private static int</span>[] <span class="function">buildNext</span>(<span class="type">String</span> pattern) {
        <span class="type">int</span> m = pattern.<span class="function">length</span>();
        <span class="type">int</span>[] next = <span class="keyword">new</span> <span class="type">int</span>[m];
        <span class="type">int</span> j = <span class="number">0</span>;
        
        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i < m; i++) {
            <span class="keyword">while</span> (j > <span class="number">0</span> && pattern.<span class="function">charAt</span>(i) != pattern.<span class="function">charAt</span>(j)) {
                j = next[j - <span class="number">1</span>];
            }
            <span class="keyword">if</span> (pattern.<span class="function">charAt</span>(i) == pattern.<span class="function">charAt</span>(j)) {
                j++;
            }
            next[i] = j;
        }
        
        <span class="keyword">return</span> next;
    }
    
    <span class="comment">/**
     * KMPÂ≠óÁ¨¶‰∏≤ÂåπÈÖç
     */</span>
    <span class="keyword">public static</span> <span class="type">List</span>&lt;<span class="type">Integer</span>&gt; <span class="function">kmpSearch</span>(<span class="type">String</span> text, <span class="type">String</span> pattern) {
        <span class="type">List</span>&lt;<span class="type">Integer</span>&gt; results = <span class="keyword">new</span> <span class="type">ArrayList</span>&lt;&gt;();
        <span class="keyword">if</span> (pattern.<span class="function">isEmpty</span>()) <span class="keyword">return</span> results;
        
        <span class="type">int</span>[] next = <span class="function">buildNext</span>(pattern);
        <span class="type">int</span> j = <span class="number">0</span>;
        
        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i < text.<span class="function">length</span>(); i++) {
            <span class="keyword">while</span> (j > <span class="number">0</span> && text.<span class="function">charAt</span>(i) != pattern.<span class="function">charAt</span>(j)) {
                j = next[j - <span class="number">1</span>];
            }
            <span class="keyword">if</span> (text.<span class="function">charAt</span>(i) == pattern.<span class="function">charAt</span>(j)) {
                j++;
            }
            <span class="keyword">if</span> (j == pattern.<span class="function">length</span>()) {
                results.<span class="function">add</span>(i - j + <span class="number">1</span>);
                j = next[j - <span class="number">1</span>];
            }
        }
        
        <span class="keyword">return</span> results;
    }
    
    <span class="keyword">public static void</span> <span class="function">main</span>(<span class="type">String</span>[] args) {
        <span class="type">String</span> text = <span class="string">"ABABDABACDABABCABAB"</span>;
        <span class="type">String</span> pattern = <span class="string">"ABABCABAB"</span>;
        <span class="type">List</span>&lt;<span class="type">Integer</span>&gt; positions = <span class="function">kmpSearch</span>(text, pattern);
        System.out.<span class="function">println</span>(<span class="string">"ÂåπÈÖç‰ΩçÁΩÆ: "</span> + positions);
        <span class="comment">// ËæìÂá∫: ÂåπÈÖç‰ΩçÁΩÆ: [10]</span>
    }
}</pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module" src="/common/footer.js"></script>
    <script type="module" src="/common/i18n.js"></script>
    <script src="/sequence/kmp/script.js"></script>
    <script>
        // ËØ≠Ë®ÄÂàáÊç¢Âô®‰∫ã‰ª∂
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.getAttribute('data-lang');
                if (window.I18n) {
                    window.I18n.switchLanguage(lang);
                }
            });
        });
        
    </script>
    <script type="module" src="/common/tabs.js"></script>
</body>
</html>
